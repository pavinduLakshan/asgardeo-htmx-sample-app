<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/htmx.org@1.9.11"></script>
    <script src="https://unpkg.com/@asgardeo/auth-spa@latest/dist/asgardeo-spa.production.min.js"></script>
    <title>Dashboard</title>
</head>
<body>
    <h1>Dashboard</h1>
    <script>
        htmx.onLoad(function () {
            // This client is a class and can be instantiated as follows.
            var auth = AsgardeoAuth.AsgardeoSPAClient.getInstance();

            // Once instantiated, the  client can be initialized by passing the relevant parameters such as the baseUrl, redirect URL, client ID, etc.
            auth.initialize({
                signInRedirectURL: "https://localhost:3000",
                signOutRedirectURL: "https://localhost:3000",
                clientID: "wQRwt5w2X7EPMFpoUYKtSTyfc0Qa",
                baseUrl: "https://api.asgardeo.io/t/pavinduorg"
            });

            const isAuth = auth.isAuthenticated();

            if (!isAuth) {
                window.location.href = "/"
            }
        })
    </script>
</body>
</html>